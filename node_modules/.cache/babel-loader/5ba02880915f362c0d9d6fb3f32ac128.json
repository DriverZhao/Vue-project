{"remainingRequest":"E:\\小泓工作室\\html5&css3\\vue-project\\supermall\\node_modules\\babel-loader\\lib\\index.js!E:\\小泓工作室\\html5&css3\\vue-project\\supermall\\src\\store\\actions.js","dependencies":[{"path":"E:\\小泓工作室\\html5&css3\\vue-project\\supermall\\src\\store\\actions.js","mtime":1638713684540},{"path":"E:\\小泓工作室\\html5&css3\\vue-project\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636441690295},{"path":"E:\\小泓工作室\\html5&css3\\vue-project\\supermall\\node_modules\\babel-loader\\lib\\index.js","mtime":1636441711808}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.array.find\";\nimport * as typers from \"./mutation-types\";\nvar actions = {\n  addToCart: function addToCart(_ref, info) {\n    var state = _ref.state,\n        commit = _ref.commit;\n    return new Promise(function (resolve) {\n      //1.查看该商品是否已经添加到cartList\n      var oldInfo = state.cartList.find(function (item) {\n        return item.iid === info.iid;\n      }); //2.如果oldInfo存在，那么原来的数量加1\n\n      if (oldInfo) {\n        var index = state.cartList.indexOf(oldInfo);\n        commit(types.INCREMENT_COUNT, index);\n      } else {\n        info.count = 1;\n        info.checked = true;\n        commit(typers.ADD_TO_CART, info);\n      }\n\n      resolve();\n    });\n  }\n};\nexport default actions;",{"version":3,"sources":["E:\\小泓工作室\\html5&css3\\vue-project\\supermall\\src\\store\\actions.js"],"names":["typers","actions","addToCart","info","state","commit","Promise","resolve","oldInfo","cartList","find","item","iid","index","indexOf","types","INCREMENT_COUNT","count","checked","ADD_TO_CART"],"mappings":";;AAAA,OAAO,KAAKA,MAAZ;AAEA,IAAMC,OAAO,GAAG;AACZC,EAAAA,SADY,2BACcC,IADd,EACmB;AAAA,QAApBC,KAAoB,QAApBA,KAAoB;AAAA,QAAdC,MAAc,QAAdA,MAAc;AAC3B,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC5B;AACA,UAAMC,OAAO,GAAGJ,KAAK,CAACK,QAAN,CAAeC,IAAf,CAAoB,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,GAAL,KAAaT,IAAI,CAACS,GAAtB;AAAA,OAAxB,CAAhB,CAF4B,CAI5B;;AACA,UAAIJ,OAAJ,EAAa;AACT,YAAMK,KAAK,GAAGT,KAAK,CAACK,QAAN,CAAeK,OAAf,CAAuBN,OAAvB,CAAd;AACAH,QAAAA,MAAM,CAACU,KAAK,CAACC,eAAP,EAAuBH,KAAvB,CAAN;AACH,OAHD,MAGK;AACDV,QAAAA,IAAI,CAACc,KAAL,GAAa,CAAb;AACAd,QAAAA,IAAI,CAACe,OAAL,GAAe,IAAf;AACAb,QAAAA,MAAM,CAACL,MAAM,CAACmB,WAAR,EAAoBhB,IAApB,CAAN;AACH;;AAEDI,MAAAA,OAAO;AACV,KAfM,CAAP;AAgBH;AAlBW,CAAhB;AAqBA,eAAeN,OAAf","sourcesContent":["import * as typers from './mutation-types';\r\n\r\nconst actions = {\r\n    addToCart({state,commit,},info){\r\n        return new Promise((resolve) => {\r\n            //1.查看该商品是否已经添加到cartList\r\n            const oldInfo = state.cartList.find(item => item.iid === info.iid)\r\n\r\n            //2.如果oldInfo存在，那么原来的数量加1\r\n            if (oldInfo) {\r\n                const index = state.cartList.indexOf(oldInfo)\r\n                commit(types.INCREMENT_COUNT,index)\r\n            }else{\r\n                info.count = 1\r\n                info.checked = true\r\n                commit(typers.ADD_TO_CART,info)\r\n            }\r\n\r\n            resolve()\r\n        })\r\n    }\r\n}\r\n\r\nexport default actions"]}]}